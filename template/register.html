{% extends "base.html" %}

{% block header %}注册{% endblock %}

{% block script %}
$(document).ready(function(){
    $("body").css({"background":"none"});
})
function pwck(){
    var exp=/^[a-zA-Z](\w){0,19}$/
    if(!exp.test($("#name").val()){
        $(".text-err").text("用户名不正确！");
        return false;
    }
    exp=/^([\u4e00-\u9fa5]+|([a-zA-Z]+\s?)+)$/g
    if(!exp.test($("#real").val())){
        $(".text-err").text("姓名不正确！");
        return false;
    }
    exp=/^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$/
    if(!exp.test($("#email").val())){
        $(".text-err").text("邮箱不正确！");
        return false;
    }
    exp=/^[a-zA-Z](\w){0,19}$/
    if(!exp.test($("#pw").val())){
        $(".text-err").text("密码不正确！");
        return false;
    }
    if($("#pwr").val()!=$("#pw").val()){
        $(".text-err").text("两次输入的密码不一致！");
        return false;
    }
    return true;
}
{% endblock %}

{% block content %}
<br><br><br>
<form class="form-horizontal container-fluid" method="POST" onsubmit="return pwck()">
    {% csrf_token %}
    <div class="row">
        <div class="col-md-6 col-md-offset-3">
            <div class="form-group">
                <label>用户名</label>
                <input type="text" class="form-control" name="name" id="name">
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-6 col-md-offset-3">
            <div class="form-group">
                <label>真实姓名</label>
                <input type="text" class="form-control" name="real" id="real">
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-6 col-md-offset-3">
            <div class="form-group">
                <label>邮箱</label>
                <input type="text" class="form-control" name="email" id="email">
            </div>
            <div class="form-group">
                <label>密码</label>
                <input type="password" class="form-control" name="pw" id="pw">
            </div>
            <div class="form-group">
                <label>确认密码</label>
                <input type="password" class="form-control" id="pwr">
            </div>
        </div>
    </div>
    <p class="text-err" align="center"></p>
    <button type="submit" class="mybutton-prim center-block">注册</button>
</form>
{% endblock %}